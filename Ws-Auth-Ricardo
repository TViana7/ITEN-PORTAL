router.post('/autenticacao', function(req, res, next) {
  res.setHeader('Access-Control-Allow-Origin', '*');
  console.log(req.body);
  var email = req.body.email;  
  var password = req.body.password; 
  console.log("entrada:"+email, password);

  var request = new sql.Request(connection);
    request.query("SELECT * FROM utilizador where email= '"+email+"' and password= '"+password+"'", function(err, user){
      if(err){
        return next(err);
      }else{
            console.log(Object.keys(user).length);
            //verificar se o objeto é vazio
            if(!Object.keys(user).length==0){
              //gera um token 
                var expires = moment().add('days', 1).valueOf();
                var token = jwt.encode({
                    iss: user.IdUtilizador,
                    exp: expires
              }, app.get('jwtTokenSecret'));

              res.json({
                token : token,
                expires: expires,
                sucesso: true,
                user: {Idutilizador:user[0].IdUtilizador, Email:user[0].Email, Nome:user[0].Nome, Cliente:user[0].Cliente}
              });

              
            }else{
              return res.json({
                sucesso: false,
                message:"Login Inválido"
              })
            }    
        
      }
      //console.log(user[0].Password);
      //res.send(recordset);
      
      
    });

});